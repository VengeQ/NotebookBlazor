@page "/"
@using Notebook.Components
@using Notebook.Data
@using Notebook.Shared
@inject RecordService recordService
<div class="container">
    <h1>Hello, world!</h1>
    <div class="row">
        <div class="col">
            @counterFromDb
        </div>
        <div class="col">
            <button class="alert" value="123" @onclick="ToDb"></button>
        </div>
    </div>
    <div class="row">
        <p>@FirstRecord.Id</p>
        <p>@FirstRecord.Description</p>
        <p>@FirstRecord.CompleteDate</p>
        <p>@FirstRecord.IsComplete</p>
    </div>
</div>

@code{

    private String counterFromDb = "";

    [Parameter]
    public Record FirstRecord { get; set; } = new Record(12);


    protected override async Task OnInitializedAsync()
    {
        var collection = await recordService.GetRecords();
        FirstRecord = await Task.FromResult(collection.First());
    }

    public void ToDb()
    {
        var recordFromDB = recordService.GetRecords();
        //FirstRecord = recordService.GetRecords().First();
        InvokeAsync(StateHasChanged);
    }

}
